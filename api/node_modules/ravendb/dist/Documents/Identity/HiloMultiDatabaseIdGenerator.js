"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HiloMultiTypeIdGenerator_1 = require("./HiloMultiTypeIdGenerator");
const AbstractHiloIdGenerator_1 = require("./AbstractHiloIdGenerator");
class HiloMultiDatabaseIdGenerator extends AbstractHiloIdGenerator_1.AbstractHiloIdGenerator {
    constructor(store) {
        super(store);
    }
    generateDocumentId(dbName, entity) {
        return this._getGeneratorForDatabase(dbName || this._store.database)
            .generateDocumentId(entity);
    }
    _getGeneratorForDatabase(dbName) {
        if (!(dbName in this._generators)) {
            this._generators[dbName] = new HiloMultiTypeIdGenerator_1.HiloMultiTypeIdGenerator(this._store, dbName);
        }
        return this._generators[dbName];
    }
}
exports.HiloMultiDatabaseIdGenerator = HiloMultiDatabaseIdGenerator;
